datospersonas = Array(
    {
        "dni": "11111111H",
        "nombre_persona": "admin",
        "apellidos_persona": "admin",
        "fechaNacimiento_persona": "2022-10-05",
        "direccion_persona": "admin",
        "telefono_persona": "999999999",
        "email_persona": "admin@admin.admin",
        "foto_persona": "admin.jpg"
    },
    {
        "dni": "29506913Y",
        "nombre_persona": "pruebaguardar",
        "apellidos_persona": "probando prueba",
        "fechaNacimiento_persona": "2022-12-26",
        "direccion_persona": "calle friuchi",
        "telefono_persona": "987654321",
        "email_persona": "usuariopo@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "34277162D",
        "nombre_persona": "pepe",
        "apellidos_persona": "rein tor",
        "fechaNacimiento_persona": "2023-06-01",
        "direccion_persona": "ourense 45",
        "telefono_persona": "657894562",
        "email_persona": "pepe@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "35586957T",
        "nombre_persona": "aaaaa",
        "apellidos_persona": "gggggggggggg",
        "fechaNacimiento_persona": "2023-09-15",
        "direccion_persona": "gggggggggggggg",
        "telefono_persona": "555555555",
        "email_persona": "usuario@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "35600364k",
        "nombre_persona": "asdasdsa",
        "apellidos_persona": "adsasdasd",
        "fechaNacimiento_persona": "2023-08-30",
        "direccion_persona": "dasasdasdsadasdadada",
        "telefono_persona": "666666666",
        "email_persona": "adsadsaddasd@adadsdad",
        "foto_persona": ""
    },
    {
        "dni": "35649097v",
        "nombre_persona": "Laurent",
        "apellidos_persona": "Savage",
        "fechaNacimiento_persona": "1212-02-21",
        "direccion_persona": "212121212121212121212121212",
        "telefono_persona": "212121212",
        "email_persona": "21savage@gmail.com",
        "foto_persona": "2121savage.png"
    },
    {
        "dni": "36087878G",
        "nombre_persona": "José Luis",
        "apellidos_persona": "Moreno",
        "fechaNacimiento_persona": "1970-01-01",
        "direccion_persona": "hhjhjhj",
        "telefono_persona": "986202020",
        "email_persona": "pepe@pepe.com",
        "foto_persona": "lkdjaf"
    },
    {
        "dni": "39489215D",
        "nombre_persona": "Isamel",
        "apellidos_persona": "Martinez",
        "fechaNacimiento_persona": "2001-06-20",
        "direccion_persona": "Camino de los BArros",
        "telefono_persona": "674881263",
        "email_persona": "pepe123lopez@gmail.com",
        "foto_persona": "foto.jpg"
    },
    {
        "dni": "44663175G",
        "nombre_persona": "dani",
        "apellidos_persona": "dddddddddddd",
        "fechaNacimiento_persona": "2022-12-30",
        "direccion_persona": "Calle Río Avia Nº5 2ºA",
        "telefono_persona": "655200125",
        "email_persona": "san@gmail.com",
        "foto_persona": "hola.jpg"
    },
    {
        "dni": "45161969C",
        "nombre_persona": "Floro",
        "apellidos_persona": "Gonzalez",
        "fechaNacimiento_persona": "1999-06-16",
        "direccion_persona": "asadasdasdsad",
        "telefono_persona": "674589254",
        "email_persona": "flr@gail.com",
        "foto_persona": ""
    },
    {
        "dni": "48791636B",
        "nombre_persona": "roott",
        "apellidos_persona": "lopez",
        "fechaNacimiento_persona": "2002-12-11",
        "direccion_persona": "progreso 14",
        "telefono_persona": "635124589",
        "email_persona": "root@gmail.com",
        "foto_persona": "foto.png"
    },
    {
        "dni": "54231827v",
        "nombre_persona": "eva",
        "apellidos_persona": "castiñeira",
        "fechaNacimiento_persona": "2001-02-01",
        "direccion_persona": "casa",
        "telefono_persona": "644675634",
        "email_persona": "eva@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "66766749A",
        "nombre_persona": "sakdaskdj",
        "apellidos_persona": "asdnsajdsna",
        "fechaNacimiento_persona": "2021-01-06",
        "direccion_persona": "dksaldkasldkasd",
        "telefono_persona": "182973819",
        "email_persona": "kdsladkasldkals@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "74122589D",
        "nombre_persona": "nombre_persona",
        "apellidos_persona": "apellidos_persona",
        "fechaNacimiento_persona": "2023-06-15",
        "direccion_persona": "direccion_persona",
        "telefono_persona": "127000001",
        "email_persona": "asdf@gmail.com",
        "foto_persona": "foto.png"
    },
    {
        "dni": "77465669j",
        "nombre_persona": "pepe",
        "apellidos_persona": "apellido",
        "fechaNacimiento_persona": "9919-03-12",
        "direccion_persona": "direccion",
        "telefono_persona": "234232345",
        "email_persona": "emailPe@persona.com",
        "foto_persona": "foto"
    },
    {
        "dni": "77481612V",
        "nombre_persona": "Adrián",
        "apellidos_persona": "Gamallo Piedra",
        "fechaNacimiento_persona": "2001-05-08",
        "direccion_persona": "baires",
        "telefono_persona": "624618316",
        "email_persona": "adriagadnfnngw@gmail.com",
        "foto_persona": "fwdsfadsf"
    },
    {
        "dni": "81423556Z",
        "nombre_persona": " AinM",
        "apellidos_persona": " AinM",
        "fechaNacimiento_persona": "1900-12-02",
        "direccion_persona": " AinM 123                ",
        "telefono_persona": "611121311",
        "email_persona": "ainm@outlook.org",
        "foto_persona": "AinM.png"
    },
    {
        "dni": "82349649N",
        "nombre_persona": "dasdfsgfdgfd",
        "apellidos_persona": "hgfjghghjgh",
        "fechaNacimiento_persona": "2009-09-09",
        "direccion_persona": "dsagfgfdghfd",
        "telefono_persona": "321321321",
        "email_persona": "dasdsa@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "83479682D",
        "nombre_persona": "sdksadksadkd",
        "apellidos_persona": "asdmaskd",
        "fechaNacimiento_persona": "2021-01-04",
        "direccion_persona": "mdsnadjnasjdans",
        "telefono_persona": "891793674",
        "email_persona": "lsdkldksladksa@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "88051587C",
        "nombre_persona": "kasdkaskda",
        "apellidos_persona": "dsakdksakdaskdk",
        "fechaNacimiento_persona": "2021-01-01",
        "direccion_persona": "askdkasdkasdkask",
        "telefono_persona": "278718298",
        "email_persona": "asdkasdkadslka@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "99999999R",
        "nombre_persona": "ejemplo1",
        "apellidos_persona": "ejemplo1",
        "fechaNacimiento_persona": "1970-01-01",
        "direccion_persona": "Avenida de Lugo",
        "telefono_persona": "127000001",
        "email_persona": "test@test.com",
        "foto_persona": "foto.png"
    }
);

class Gestion_personas extends GestionEntidad{

    // se puede hacer uno general en GestionEntidad que recorra todos los atributos haciendo estas cosas
    static resetearformpersona() {

        GestionEntidad.resetearForm();

        //poner todos required
    
        //Modificaciones particulares entidad
        document.getElementById('div_error_nombre_persona').style.display = 'none';
        document.getElementById('div_error_apellidos_persona').style.display = 'none';
        document.getElementById('div_error_direccion_persona').style.display = 'none';
    }

    static createForm_ADD(){

        // resetear el formulario
        this.resetearformpersona();

        // se rellena el action del formulario
        document.getElementById('IU_form').action = 'javascript:Gestion_personas.ADD();';
        document.getElementById('IU_form').setAttribute('onsubmit', 'return Gestion_personas.comprobar_submit();');

        // se coloca el onblur del dni y se pone a vacio el valor (o podriamos hacerlo en el resetearformusuario())
        document.getElementById('dni').setAttribute('onblur', 'Gestion_personas.comprobar_dni()');
        document.getElementById('dni').value = '';

        // se coloca el onblur del nombre y se pone a vacio el valor (o podriamos hacerlo en el resetearformusuario())
        document.getElementById('nombre_persona').setAttribute('onblur', 'Gestion_personas.comprobar_nombre_persona()');
        document.getElementById('nombre_persona').value = '';

        document.getElementById('apellidos_persona').setAttribute('onblur', 'Gestion_personas.comprobar_apellidos_persona()');
        document.getElementById('apellidos_persona').value = '';

        document.getElementById('fechaNacimiento_persona').setAttribute('onchange','Gestion_personas.comprobar_fechaNacimiento_persona()');
        document.getElementById('fechaNacimiento_persona').value = '';

        document.getElementById('direccion_persona').setAttribute('onblur','Gestion_personas.comprobar_direccion_persona()');
        document.getElementById('direccion_persona').value = '';

        document.getElementById('telefono_persona').setAttribute('onblur','Gestion_personas.comprobar_telefono_persona()');
        document.getElementById('telefono_persona').value = '';

        document.getElementById('email_persona').setAttribute('onblur','Gestion_personas.comprobar_email_persona()');
        document.getElementById('email_persona').value = '';

        document.getElementById('foto_persona').setAttribute('onblur','Gestion_personas.comprobar_foto_persona()');
        document.getElementById('foto_persona').value = '';

        document.getElementById('id_submit').value = 'ADD';

        // para actualizar idioma despues de incluir la imagen
        //setLang();

        // se muestra el formulario
        document.getElementById('div_IU_form').style.display = 'block';
    }

    //-----------------------------------------------------------------------------
    // formularios
    static createForm_EDIT(){
        alert('edit personas');
    }

    static createForm_DELETE(){
        alert('delete personas');
    }

    static createForm_SHOWCURRENT(){
        alert('showcurrent personas');
    }

    static createForm_SEARCH(){
        alert('SEARCH personas');
    }

    //-----------------------------------------------------------------------------
    // submits
    static comprobar_submit(){
        alert('paso por comprobar submit');
        return (
            this.comprobar_dni() &&
            this.comprobar_nombre_persona() &&
            this.comprobar_apellidos_persona() &&
            this.comprobar_direccion_persona() &&
            this.comprobar_foto_persona()
        );
        
    }

    static comprobar_submit_SEARCH(){
        alert('paso por comprobar submit search');
        return (
            this.comprobar_dni_SEARCH() &&
            this.comprobar_nombre_persona_SEARCH() &&


            this.comprobar_foto_persona_SEARCH()
        );
    }

    //-----------------------------------------------------------------------------
    // acciones a back

    static ADD(){
        alert ('llamada a back');
    }

    static EDIT(){
        alert ('llamada a back');
    }

    static DELETE(){
        alert ('llamada a back');
    }

    static SEARCH(){
        alert ('llamada a back');
    }

    //-----------------------------------------------------------------------------
    //validaciones campos

    static comprobar_dni(){

        //console.log(validacionesatomicas.validar_dni('dni'));
        return true;
    }

    static comprobar_nombre_persona(){

        if (validacionesatomicas.size_minimo('nombre_persona',6)){
        }
        else{
            //modificacion parametros texto error
            DOM_class.mostrardivmensajeserrordebajo('nombre_persona','KO_nombre_persona_tam_min');

            //salir ejecucion con false
            return false;
        }

        if (validacionesatomicas.size_maximo('nombre_persona',50)){
        }
        else{
            //modificacion parametros texto error
            DOM_class.mostrardivmensajes('nombre_persona','KO_nombre_persona_tam_max');

            //salir ejecucion con false
            return false;
        }

        DOM_class.mostrarexitovalor('nombre_persona');
        return true;

    }

    static comprobar_nombre_persona_SEARCH(){

        if (validacionesatomicas.size_maximo('nombre_persona',50)){   
        }
        else{
            //modificacion parametros texto error
            DOM_class.mostrardivmensajes('nombre_persona','KO_nombre_persona_tam_max');
            //llamar funcion muestra errores
            DOM_class.mostrarerrorvalor('nombre_persona');
            //salir ejecucion con false
            return false;
        }

        DOM_class.mostrarexitovalor('nombre_persona');
        return true;

    }

    static comprobar_apellidos_persona(){

        if (validacionesatomicas.size_minimo('apellidos_persona',6)){
        }
        else{
            DOM_class.mostrardivmensajeserrordebajo('apellidos_persona','KO_apellidos_persona_tam_min');;
            //salir ejecucion con false
            return false;
        }

        if (validacionesatomicas.size_maximo('apellidos_persona',50)){
        }
        else{
            //modificacion parametros texto error
            DOM_class.mostrardivmensajeserrordebajo('apellidos_persona','KO_apellidos_persona_tam_max');
            //salir ejecucion con false
            return false;
        }

        DOM_class.mostrarexitovalor('apellidos_persona');
        return true;
    }

    static comprobar_FechaNacimiento_persona(){
        return true;
    }

    static comprobar_direccion_persona(){

        if (validacionesatomicas.size_minimo('direccion_persona',20)){
        }
        else{
            //modificacion parametros texto error
            DOM_class.mostrardivmensajeserrordebajo('direccion_persona','KO_direccion_persona_tam_min');

            //salir ejecucion con false
            return false;
        }

        if (validacionesatomicas.size_maximo('direccion_persona',70)){
        }
        else{
            //modificacion parametros texto error
            DOM_class.mostrardivmensajeserrordebajo('direccion_persona','KO_direccion_persona_tam_max');

            //salir ejecucion con false
            return false;
        }

        DOM_class.mostrarexitovalor('direccion_persona');
        return true;

    }

    static comprobar_foto_persona(){
        alert('validacion foto');
        return true;
    }


}